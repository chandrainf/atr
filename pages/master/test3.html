<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataTables Example with Multiple Tables and Date Filter</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .card {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .card-header div {
            margin-right: 10px;
        }
    </style>
</head>
<body>

<div class="card">
    <div class="card-header">
        <div>
            <label for="filter-lokasi1">Filter by Lokasi:</label>
            <input type="text" id="filter-lokasi1" placeholder="Enter location">
        </div>
        <div>
            <label for="filter-error1">Filter by Jumlah Error:</label>
            <input type="number" id="filter-error1" placeholder="Enter error count">
        </div>
        <div>
            <label for="filter-date1">Filter by Date:</label>
            <input type="date" id="filter-date1" placeholder="Enter date">
        </div>
    </div>
    <div class="card-body">
        <table id="example1" class="display">
            <thead>
                <tr>
                    <th>Nomor Mesin</th>
                    <th>Lokasi</th>
                    <th>Jumlah Error</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>001</td>
                    <td>Jakarta</td>
                    <td>5</td>
                    <td>2023-05-15</td>
                </tr>
                <tr>
                    <td>002</td>
                    <td>Bandung</td>
                    <td>3</td>
                    <td>2023-05-16</td>
                </tr>
                <tr>
                    <td>003</td>
                    <td>Surabaya</td>
                    <td>8</td>
                    <td>2023-05-17</td>
                </tr>
                <tr>
                    <td>004</td>
                    <td>Jakarta</td>
                    <td>2</td>
                    <td>2023-05-18</td>
                </tr>
                <tr>
                    <td>005</td>
                    <td>Bandung</td>
                    <td>7</td>
                    <td>2023-05-19</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <div>
            <label for="filter-lokasi2">Filter by Lokasi:</label>
            <input type="text" id="filter-lokasi2" placeholder="Enter location">
        </div>
        <div>
            <label for="filter-error2">Filter by Jumlah Error:</label>
            <input type="number" id="filter-error2" placeholder="Enter error count">
        </div>
        <div>
            <label for="filter-date2">Filter by Date:</label>
            <input type="date" id="filter-date2" placeholder="Enter date">
        </div>
    </div>
    <div class="card-body">
        <table id="example2" class="display">
            <thead>
                <tr>
                    <th>Nomor Mesin</th>
                    <th>Lokasi</th>
                    <th>Jumlah Error</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>006</td>
                    <td>Medan</td>
                    <td>4</td>
                    <td>2023-05-20</td>
                </tr>
                <tr>
                    <td>007</td>
                    <td>Yogyakarta</td>
                    <td>1</td>
                    <td>2023-05-21</td>
                </tr>
                <tr>
                    <td>008</td>
                    <td>Bali</td>
                    <td>9</td>
                    <td>2023-05-22</td>
                </tr>
                <tr>
                    <td>009</td>
                    <td>Medan</td>
                    <td>3</td>
                    <td>2023-05-23</td>
                </tr>
                <tr>
                    <td>010</td>
                    <td>Yogyakarta</td>
                    <td>6</td>
                    <td>2023-05-24</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <div>
            <label for="filter-lokasi3">Filter by Lokasi:</label>
            <input type="text" id="filter-lokasi3" placeholder="Enter location">
        </div>
        <div>
            <label for="filter-error3">Filter by Jumlah Error:</label>
            <input type="number" id="filter-error3" placeholder="Enter error count">
        </div>
        <div>
            <label for="filter-date3">Filter by Date:</label>
            <input type="date" id="filter-date3" placeholder="Enter date">
        </div>
    </div>
    <div class="card-body">
        <table id="example3" class="display">
            <thead>
                <tr>
                    <th>Nomor Mesin</th>
                    <th>Lokasi</th>
                    <th>Jumlah Error</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>011</td>
                    <td>Bogor</td>
                    <td>10</td>
                    <td>2023-05-25</td>
                </tr>
                <tr>
                    <td>012</td>
                    <td>Semarang</td>
                    <td>0</td>
                    <td>2023-05-26</td>
                </tr>
                <tr>
                    <td>013</td>
                    <td>Bandung</td>
                    <td>4</td>
                    <td>2023-05-27</td>
                </tr>
                <tr>
                    <td>014</td>
                    <td>Bogor</td>
                    <td>6</td>
                    <td>2023-05-28</td>
                </tr>
                <tr>
                    <td>015</td>
                    <td>Semarang</td>
                    <td>5</td>
                    <td>2023-05-29</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script>
    $(document).ready(function() {
        // Initialize DataTables for each table
        var table1 = $('#example1').DataTable();
        var table2 = $('#example2').DataTable();
        var table3 = $('#example3').DataTable();

        // Filter functions for the first table
        $('#filter-lokasi1').on('input', function() {
            table1.column(1).search(this.value).draw();
        });

        $('#filter-error1').on('input', function() {
            var filterValue = this.value;
            table1.column(2).search(filterValue ? '^' + filterValue + '$' : '', true, false).draw();
        });

        $('#filter-date1').on('change', function() {
            table1.draw();
        });

        $.fn.dataTable.ext.search.push(
            function(settings, data, dataIndex) {
                if (settings.nTable.id !== 'example1') {
                    return true;
                }
                var filterDate = $('#filter-date1').val();
                var tableDate = data[3];
                if (!filterDate || tableDate === filterDate) {
                    return true;
                }
                return false;
            }
        );

        // Filter functions for the second table
        $('#filter-lokasi2').on('input', function() {
            table2.column(1).search(this.value).draw();
        });

        $('#filter-error2').on('input', function() {
            var filterValue = this.value;
            table2.column(2).search(filterValue ? '^' + filterValue + '$' : '', true, false).draw();
        });

        $('#filter-date2').on('change', function() {
            table2.draw();
        });

        $.fn.dataTable.ext.search.push(
            function(settings, data, dataIndex) {
                if (settings.nTable.id !== 'example2') {
                    return true;
                }
                var filterDate = $('#filter-date1').val();
                var tableDate = data[3];
                if (!filterDate || tableDate === filterDate) {
                    return true;
                }
                return false;
            }
        );

        // Filter functions for the third table
        $('#filter-lokasi3').on('input', function() {
            table3.column(3).search(this.value).draw();
        });

        $('#filter-error3').on('input', function() {
            var filterValue = this.value;
            table3.column(2).search(filterValue ? '^' + filterValue + '$' : '', true, false).draw();
        });

        $('#filter-date3').on('change', function() {
            table3.draw();
        });

        $.fn.dataTable.ext.search.push(
            function(settings, data, dataIndex) {
                if (settings.nTable.id !== 'example3') {
                    return true;
                }
                var filterDate = $('#filter-date1').val();
                var tableDate = data[3];
                if (!filterDate || tableDate === filterDate) {
                    return true;
                }
                return false;
            }
        );

    });
    </script>
</body>
</html>
