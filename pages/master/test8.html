<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/assets/compiled/css/app.css" />
    <link rel="stylesheet" href="/assets/compiled/css/app-dark.css" />
    <link rel="stylesheet" href="/assets/compiled/css/iconly.css" />
    <link rel="stylesheet" href="/assets/compiled/css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    />

    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #ffffff;
        color: #333333;
      }

      h3,
      p,
      label,
      h5,
      h6,
      h4 {
        color: #333333;
      }

      span {
        color: #8c98a4;
      }

      .card {
        box-shadow: 3px 3px 3px 3px #dde8f1;
      }

      .navbar {
        position: fixed;
        width: 100%;
        background-color: #132144;
        z-index: 1000;
        padding: 10px 0;
      }

      .navbar.scrolled {
        border-bottom: 3px solid yellow;
      }

      .navbar-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
        padding: 0 20px;
        box-sizing: border-box;
      }

      .navbar-logo {
        height: 50px;
      }

      .navbar-list {
        list-style-type: none;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-grow: 1;
      }

      .navbar-item {
        position: relative;
      }

      .navbar-link {
        display: block;
        color: white;
        text-align: right;
        padding: 14px 20px;
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .navbar-item.active .navbar-link {
        border-bottom: 2px solid yellow;
      }

      .navbar-link:hover {
        color: yellow;
      }

      .navbar-link::before {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 0;
        background-color: yellow;
        visibility: hidden;
        transition: all 0.3s ease-in-out;
      }

      .navbar-link:hover::before {
        visibility: visible;
        width: 100%;
      }

      .dropdown-menu {
        display: none;
        position: absolute;
        background-color: #ffffff;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        top: 100%;
        left: 0;
        color: #333333;
      }

      .dropdown-item {
        width: 100%;
      }

      .dropdown-link:active {
        color: #dde8f1;
      }

      .dropdown-link {
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        text-align: left;
        transition: background-color 0.3s ease, color 0.3s ease;
        color: #333333;
      }

      .dropdown-link:hover {
        background-color: #dde8f1;
        border-radius: 8px;
      }

      .dropdown-item.active .dropdown-link {
        color: #377dff;
        cursor: default;
      }

      .dropdown-item.active .dropdown-link:hover {
        background-color: transparent;
      }

      .navbar-item.dropdown:hover .dropdown-menu {
        display: block;
      }

      .hamburger {
        display: none;
        font-size: 24px;
        color: white;
        cursor: pointer;
      }

      @media (max-width: 600px) {
        .navbar-list {
          display: none;
          flex-direction: column;
          width: 100%;
          text-align: left;
          padding-left: 20px; /* Add padding to align to the left */
          align-items: flex-start; /* Align items to the left */
          position: absolute;
          top: 50px;
          left: 0;
          background-color: #132144;
          z-index: 999;
        }

        .navbar-list.active {
          display: flex;
          margin-top: 10px;
        }

        .navbar-item {
          width: 100%;
        }

        .hamburger {
          display: block;
          position: absolute;
          top: 10px;
          right: 20px;
          z-index: 1001; /* Ensure it's above other content */
        }
        .map-container {
          position: relative;
        }

        .card {
          position: relative;
        }

        .dropdown-link:hover {
          padding: 12px 16px;
          text-decoration: none;
          display: block;
          text-align: left;
          transition: background-color 0.3s ease, color 0.3s ease;
          color: #333333;
        }
      }

      #map {
        height: 600px;
        margin-top: 70px;
      }

      @media (max-width: 600px) {
        #map {
          height: 400px;
          margin-top: 120px; /* Adjust to prevent map from being covered */
        }
      }

      @media (min-width: 601px) and (max-width: 992px) {
        #map {
          height: 500px;
        }
      }
    </style>
  </head>
  <body>
    <script src="/assets/static/js/initTheme.js"></script>
    <div id="app">
      <div id="main" class="layout-horizontal">
        <nav class="navbar">
          <div class="navbar-content">
            <a href="index.html" class="menu-link">
              <img
                class="navbar-logo"
                src="/assets/compiled/svg/logoATR.svg"
                alt="Logo"
                height="46"
                width="135"
              />
            </a>
            <div class="hamburger" onclick="toggleMenu()">â˜°</div>
            <ul class="navbar-list gap-4">
              <li class="navbar-item active">
                <a href="index.html" class="navbar-link">
                  <i class="me-2">
                    <img
                      src="/assets/compiled/svg/iconDashboard.svg"
                      alt=""
                      height="20"
                      width="20"
                    />
                  </i>
                  Dashboard
                </a>
              </li>
              <li class="navbar-item">
                <a href="/pages/master/kiosk.html" class="navbar-link">
                  <i class="me-2">
                    <img
                      src="/assets/compiled/svg/iconMaster.svg"
                      alt=""
                      height="20"
                      width="20"
                    />
                  </i>
                  Master
                </a>
              </li>
              <li class="navbar-item dropdown">
                <a href="#" class="navbar-link" id="report-link">
                  <i class="me-2">
                    <img
                      src="/assets/compiled/svg/iconReport.svg"
                      alt=""
                      height="20"
                      width="20"
                    />
                  </i>
                  Report
                </a>
                <ul class="dropdown-menu">
                  <li class="dropdown-item">
                    <a href="/pages/master/errorLog.html" class="dropdown-link"
                      >Error Log</a
                    >
                  </li>
                  <li class="dropdown-item">
                    <a href="/pages/master/transaksi.html" class="dropdown-link"
                      >Transaksi</a
                    >
                  </li>
                  <li class="dropdown-item">
                    <a
                      href="/pages/master/kertasToner.html"
                      class="dropdown-link"
                      >Kertas & Toner</a
                    >
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </nav>

        <div class="map-container">
          <div id="map"></div>
        </div>

        <div class="row justify-content-center">
          <div class="col-12 mt-5 px-5">
            <div class="card border">
              <div class="card-header"></div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="display dataTable-custom" id="table1">
                    <thead>
                      <tr>
                        <th>Status Error</th>
                        <th>Nomor Kiosk</th>
                        <th>Lokasi</th>
                        <th>Waktu Error</th>
                        <th>Status Pengerjaan</th>
                        <th>Status Solusi</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>Error</td>
                        <td>123</td>
                        <td>Jakarta</td>
                        <td>2023-06-10</td>
                        <td>Pending</td>
                        <td>Pending</td>
                      </tr>
                      <!-- Add more rows here -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <script>
          $(document).ready(function () {
            $("#table1").DataTable();


            
          });

          // Get the height of the navbar-list when it's active
          const navbarListHeight = navbarList.classList.contains("active")
            ? navbarList.clientHeight
            : 0;

          function toggleMenu() {
            const navbarList = document.querySelector(".navbar-list");
            navbarList.classList.toggle("active");
            adjustMapMargin();
          }

          window.addEventListener("scroll", function () {
            const navbar = document.querySelector(".navbar");
            if (window.scrollY > 50) {
              navbar.classList.add("scrolled");
            } else {
              navbar.classList.remove("scrolled");
            }
          });

          function adjustMapMargin() {
            const navbarList = document.querySelector(".navbar-list");
            const mapContainer = document.querySelector(".map-container");
            if (navbarList.classList.contains("active")) {
              const navbarListHeight = navbarList.clientHeight;
              mapContainer.style.marginTop = navbarListHeight + "px";
            } else {
              mapContainer.style.marginTop = "0";
            }
          }

          window.addEventListener("scroll", function () {
            adjustMapMargin();
          });

          window.addEventListener("resize", function () {
            adjustMapMargin();
          });

          window.addEventListener("load", function () {
            adjustMapMargin();
          });

          var map = L.map("map").setView([-6.2, 106.816666], 12);
          L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
            attribution:
              '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
          }).addTo(map);

          adjustMapMargin();
        </script>
      </div>
    </div>
  </body>
</html>
