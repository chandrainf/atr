<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="shortcut icon"
      href="/assets/compiled/svg/favicon.svg"
      type="image/x-icon"
    />
    <link
      rel="shortcut icon"
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAiCAYAAADRcLDBAAAEs2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMzIgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMzQiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgdGlmZjpJbWFnZVdpZHRoPSIzMyIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMzQiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249Ijk2LjAiCiAgIHRpZmY6WVJlc29sdXRpb249Ijk2LjAiCiAgIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjItMDMtMzFUMTA6NTA6MjMrMDI6MDAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDMtMzFUMTA6NTA6MjMrMDI6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMS4xMC4xIgogICAgICBzdEV2dDp3aGVuPSIyMDIyLTAzLTMxVDEwOjUwOjIzKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz5V57uAAAABgmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kc8rRFEUxz9maORHo1hYKC9hISNGTWwsRn4VFmOUX5uZZ36oeTOv954kW2WrKLHxa8FfwFZZK0WkZClrYoOe87ypmWTO7dzzud97z+nec8ETzaiaWd4NWtYyIiNhZWZ2TvE946WZSjqoj6mmPjE1HKWkfdxR5sSbgFOr9Ll/rXoxYapQVik8oOqGJTwqPL5i6Q5vCzeo6dii8KlwpyEXFL519LjLLw6nXP5y2IhGBsFTJ6ykijhexGra0ITl5bRqmWU1fx/nJTWJ7PSUxBbxJkwijBBGYYwhBgnRQ7/MIQIE6ZIVJfK7f/MnyUmuKrPOKgZLpEhj0SnqslRPSEyKnpCRYdXp/9++msneoFu9JgwVT7b91ga+LfjetO3PQ9v+PgLvI1xkC/m5A+h7F32zoLXug38dzi4LWnwHzjeg8UGPGbFfySvuSSbh9QRqZ6H+Gqrm3Z7l9zm+h+iafNUV7O5Bu5z3L/wAdthn7QIme0YAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAJTSURBVFiF7Zi9axRBGIefEw2IdxFBRQsLWUTBaywSK4ubdSGVIY1Y6HZql8ZKCGIqwX/AYLmCgVQKfiDn7jZeEQMWfsSAHAiKqPiB5mIgELWYOW5vzc3O7niHhT/YZvY37/swM/vOzJbIqVq9uQ04CYwCI8AhYAlYAB4Dc7HnrOSJWcoJcBS4ARzQ2F4BZ2LPmTeNuykHwEWgkQGAet9QfiMZjUSt3hwD7psGTWgs9pwH1hC1enMYeA7sKwDxBqjGnvNdZzKZjqmCAKh+U1kmEwi3IEBbIsugnY5avTkEtIAtFhBrQCX2nLVehqyRqFoCAAwBh3WGLAhbgCRIYYinwLolwLqKUwwi9pxV4KUlxKKKUwxC6ZElRCPLYAJxGfhSEOCz6m8HEXvOB2CyIMSk6m8HoXQTmMkJcA2YNTHm3congOvATo3tE3A29pxbpnFzQSiQPcB55IFmFNgFfEQeahaAGZMpsIJIAZWAHcDX2HN+2cT6r39GxmvC9aPNwH5gO1BOPFuBVWAZue0vA9+A12EgjPadnhCuH1WAE8ivYAQ4ohKaagV4gvxi5oG7YSA2vApsCOH60WngKrA3R9IsvQUuhIGY00K4flQG7gHH/mLytB4C42EgfrQb0mV7us8AAMeBS8mGNMR4nwHamtBB7B4QRNdaS0M8GxDEog7iyoAguvJ0QYSBuAOcAt71Kfl7wA8DcTvZ2KtOlJEr+ByyQtqqhTyHTIeB+ONeqi3brh+VgIN0fohUgWGggizZFTplu12yW8iy/YLOGWMpDMTPXnl+Az9vj2HERYqPAAAAAElFTkSuQmCC"
      type="image/png"
    />

    <link rel="stylesheet" href="/assets/compiled/css/app.css" />
    <link rel="stylesheet" href="/assets/compiled/css/app-dark.css" />
    <link rel="stylesheet" href="/assets/compiled/css/iconly.css" />

    <link
      href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css"
      rel="stylesheet"
    />

    <!-- <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css"
    /> -->

    <!-- <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script> -->

    <!-- <link
      rel="stylesheet"
      href="/assets/extensions/simple-datatables/style.css"
    /> -->
    <!-- <link rel="stylesheet" href="/assets/compiled/css/table-datatable.css" /> -->

    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-image: url(/assets/compiled/svg/bgKiosks.svg);
        background-size: contain;
        background-repeat: no-repeat;
        background-color: #ffffff;
        color: black;
      }
      .dataTable-custom td {
        color: black; /* Custom font color for table cells */
      }

      .dataTable-custom th {
        color: black; /* Custom font color for table cells */
      }

      .navbar {
        position: fixed;
        width: 100%;
        background-color: #132144;
        z-index: 1000;
        /* display: flex; */
        padding: 10px 0;
      }

      .navbar-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
        /* max-width: 1200px; */
        padding: 0 20px;
        align-items: center;
        box-sizing: border-box;
      }

      .navbar-logo {
        height: 50px;
      }

      .navbar-list {
      
        list-style-type: none;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center; 
        align-items: center; 
        flex-grow: 1; 
      }

      .navbar-item {
        position: relative;
      }

      .navbar-link {
        display: block;
        color: white;
        text-align: center;
        padding: 14px 20px;
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .navbar-item.active .navbar-link {
        border-bottom: 2px solid yellow;
      }

      /* .navbar-link:hover {
        color: yellow;
      } */

      .navbar-link::before {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 0;
        background-color: yellow;
        visibility: hidden;
        transition: all 0.3s ease-in-out;
      }

      .navbar-link:hover::before {
        visibility: visible;
        width: 100%;
      }

      /* Dropdown menu styling */
      .dropdown-menu {
        display: none;
        position: absolute;
        background-color: #ffffff;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        top: 100%;
        left: 0;
      }

      .dropdown-item {
        width: 100%;
      }

      .dropdown-link {
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        text-align: left;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      .dropdown-link:hover {
        background-color: #dde8f1;
        color: rgb(0, 0, 0);
      }

      /* Show the dropdown menu on hover */
      .navbar-item.dropdown:hover .dropdown-menu {
        display: block;
      }

      .map-container {
        width: 100%;
        height: calc(100vh - 90px);
      }

      iframe {
        width: 100%;
        height: 100%;
        border: 0;
      }
      .timeline {
        position: relative;
        margin: 0 auto;
        width: 100%;
        max-width: 900px;
      }

      .timeline::before {
        content: "";
        position: absolute;
        top: 0;
        transform: translateX(-50%);
        border-style: dotted;
        border-width: 3px;
        height: 100%;
        background: #ccc;
      }

      .timeline-red {
        position: relative;
        margin: 20px 0;
        clear: both;
      }

      .timeline-red::before {
        content: "";
        position: absolute;
        top: 0;
        transform: translateX(-50%);
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #007bff;
        border: 4px solid white;
        z-index: 1;
      }

      .timeline-grey {
        position: relative;
        margin: 20px 0;
        clear: both;
      }

      .timeline-grey::before {
        content: "";
        position: absolute;
        top: 0;
        transform: translateX(-50%);
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #c9d9e9;
        border: 4px solid white;
        z-index: 1;
      }

      .timeline-yellow {
        position: relative;
        margin: 20px 0;
        clear: both;
      }

      .timeline-yellow::before {
        content: "";
        position: absolute;
        top: 0;

        transform: translateX(-50%);
        width: 20px;
        height: 20px;

        background: #ff8533;
        border: 4px solid white;
        z-index: 1;
      }

      .timeline-green {
        position: relative;
        margin: 20px 0;

        clear: both;
      }

      .timeline-green::before {
        content: "";
        position: absolute;
        top: 0;

        transform: translateX(-50%);
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #00e525;
        border: 4px solid white;
        z-index: 1;
      }

      .timeline-content {
        padding: 20px;

        border-radius: 5px;
      }

      .toggle-container {
        border-radius: 4.818px;
        background-color: #edf2f8;
        display: flex;
        gap: 12px;
        font-size: 13px;
        white-space: nowrap;
        text-align: center;
        line-height: 114%;
        justify-content: space-between;
        padding: 6px;
      }

      .filter-buttons button {
        margin-right: 10px;
        padding: 10px;
      }
      .toggle-container button.active {
        background-color: #002845;
        color: white;
      }

      #example1 th:nth-child(5),
      #example1 td:nth-child(5) {
        display: none;
      }
    </style>
  </head>

  <body>
    <script src="/assets/static/js/initTheme.js"></script>
    <div id="app">
      <div id="main" class="layout-horizontal">
        <!-- <div class="header-top"  style="background-color: #132144;"> -->

        <nav class="navbar">
          <div class="navbar-content">
            <a href="/index.html" class="menu-link">
              <img
                class="navbar-logo"
                src="/assets/compiled/svg/logoATR.svg"
                alt="Logo"
                height="46"
                width="135"
              />
            </a>
            <!-- <img src="your-logo.png" alt="Logo" class="navbar-logo"> -->
            <ul class="navbar-list">
              <li class="navbar-item">
                <a href="/index.html" class="navbar-link"
                  ><i class="me-2"
                    ><img
                      src="/assets/compiled/svg/iconDashboard.svg"
                      alt=""
                      height="20"
                      width="20" /></i
                  >Dashboard</a
                >
              </li>
              <li class="navbar-item">
                <a href="kiosk.html" class="navbar-link"
                  ><i class="me-2"
                    ><img
                      src="/assets/compiled/svg/iconMaster.svg"
                      alt=""
                      height="20"
                      width="20" /></i
                  >Master</a
                >
              </li>
              <li class="navbar-item active dropdown">
                <a href="#" class="navbar-link" id="report-link"
                  ><i class="me-2"
                    ><img
                      src="/assets/compiled/svg/iconReport.svg"
                      alt=""
                      height="20"
                      width="20" /></i
                  >Report</a
                >
                <ul class="dropdown-menu">
                  <li class="dropdown-item">
                    <a href="errorLog.html" class="dropdown-link">Error Log</a>
                  </li>
                  <li class="dropdown-item active">
                    <a href="transaksi.html" class="dropdown-link">
                      Transaksi</a
                    >
                  </li>
                  <li class="dropdown-item">
                    <a href="kertasToner.html" class="dropdown-link">
                      Kertas & Toner</a
                    >
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </nav>

        <div class="content-wrapper container" style="margin-top: 100px">
          <div class="page-heading">
            <h3 class="text-white">Transaksi</h3>
          </div>
          <div class="page-content">
            <div class="col-12">
              <div class="row">
                <div class="col-4">
                  <div class="card">
                    <div class="card-body px-4 py-4-5">
                      <div class="row">
                        <div class="col-9">
                          <h6>Total Transaksi</h6>
                          <h1 id="combinedTotal"></h1>
                        </div>

                        <div class="col-3 d-flex justify-content-center">
                          <img
                            src="/assets/compiled/svg/totalTransaksi.svg"
                            alt=""
                            height="50"
                            width="50"
                            alt="Centered Image"
                            class="img-fluid"
                          />
                        </div>
                      </div>
                    </div>

                    <div class="card-footer">
                      <div class="d-flex flex-row-reverse">
                        <p>Hari ini</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-4">
                  <div class="card">
                    <div class="card-body px-4 py-4-5">
                      <div class="row">
                        <div class="col-9">
                          <h6>Total Cetak Sertipikat</h6>
                          <h1 id="totalCetakSertipikat"></h1>
                        </div>

                        <div class="col-3 d-flex justify-content-center">
                          <img
                            src="/assets/compiled/svg/totalSerifikat.svg"
                            alt=""
                            height="50"
                            width="50"
                            alt="Centered Image"
                            class="img-fluid"
                          />
                        </div>
                      </div>
                    </div>

                    <div class="card-footer">
                      <div class="d-flex flex-row-reverse">
                        <p>Hari ini</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-4">
                  <div class="card">
                    <div class="card-body px-4 py-4-5">
                      <div class="row">
                        <div class="col-9">
                          <h6>Total Verifikasi Sentuh Tanahku</h6>
                          <h1 id="totalVerifikasiSentuhTanahku"></h1>
                        </div>

                        <div class="col-3 d-flex justify-content-center">
                          <img
                            src="/assets/compiled/svg/totalVerfikasi.svg"
                            alt=""
                            height="50"
                            width="50"
                            alt="Centered Image"
                            class="img-fluid"
                          />
                        </div>
                      </div>
                    </div>

                    <div class="card-footer">
                      <div class="d-flex flex-row-reverse">
                        <p>Hari ini</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-12 mt-5">
                <!-- <section class="section" style="align-self: center;"> -->
                <div class="card border">
                  <div class="card-header d-flex justify-content-between">
                    <h3>List Transaksi Kiosk</h3>
                    <div>
                      <label for="filter-date1">Filter by Date:</label>
                      <input
                        type="date"
                        id="filter-date1"
                        placeholder="Enter date"
                      />
                    </div>
                  </div>
                  <div class="card-body">
                    <table id="example1" class="dislay dataTable-custom ">
                      <thead>
                        <tr>
                          <th>Nomor Mesin</th>
                          <th>Lokasi</th>
                          <th>Cetak Sertipikat</th>
                          <th>Verifikasi Sentuh Tanahku</th>
                          <th>Tanggal Transaksi</th>
                          <th>Total Transaksi</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>K2300012</td>
                          <td>
                            Kantor Pertanahan Kota Administratif Jakarta Pusat
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300013</td>
                          <td>Kantor Pertanahan Kota Surabaya I</td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300014</td>
                          <td>Kantor Pertanahan Kota Surabaya II</td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300015</td>
                          <td>
                            Kantor Wilayah Badan Pertanahan Nasional Provinsi
                            Kalimantan Timur
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300016</td>
                          <td>
                            Kantor Wilayah Badan Pertanahan Nasional Provinsi
                            Kalimantan Timur
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                        <!-- <tr>
                          <td>K2300012</td>
                          <td>
                            Kantor Pertanahan Kota Administratif Jakarta Pusat
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300013</td>
                          <td>Kantor Pertanahan Kota Surabaya I</td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr>

                        <tr>
                          <td>K2300012</td>
                          <td>
                            Kantor Pertanahan Kota Administratif Jakarta Pusat
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300013</td>
                          <td>Kantor Pertanahan Kota Surabaya I</td>
                          <td>20</td>
                          <td>10</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300014</td>
                          <td>Kantor Pertanahan Kota Surabaya II</td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300015</td>
                          <td>
                            Kantor Wilayah Badan Pertanahan Nasional Provinsi
                            Kalimantan Timur
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300016</td>
                          <td>
                            Kantor Wilayah Badan Pertanahan Nasional Provinsi
                            Kalimantan Timur
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300012</td>
                          <td>
                            Kantor Pertanahan Kota Administratif Jakarta Pusat
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300013</td>
                          <td>Kantor Pertanahan Kota Surabaya I</td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300014</td>
                          <td>Kantor Pertanahan Kota Surabaya II</td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300015</td>
                          <td>
                            Kantor Wilayah Badan Pertanahan Nasional Provinsi
                            Kalimantan Timur
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-11</td>
                          <td></td>
                        </tr> -->
                      </tbody>
                    </table>
                  </div>
                </div>

                <!-- </section> -->
              </div>
            </div>

            <div class="row">
              <div class="col-12 mt-5">
                <!-- <section class="section" style="align-self: center;"> -->
                <div class="card border">
                  <div
                    class="card-header d-flex justify-content-between"
                    style="align-items: center; justify-content: center"
                  >
                    <div><h3>Total Keseluruhan Transaksi</h3></div>
                    <div>
                      <label for="locationFilter">Lokasi:</label>
                      <select id="locationFilter" onchange="updateChart()">
                        <option value="all">Semua Lokasi</option>
                        <option value="location1">Location 1</option>
                        <option value="location2">Location 2</option>
                        <!-- Add more locations as needed -->
                      </select>
                    </div>

                    <div class="toggle-container">
                      <button
                        id="monthlyBtn"
                        class="active"
                        onclick="setTimePeriod('monthly')"
                        style="border-radius: 4.818px"
                      >
                        Monthly
                      </button>
                      <button
                        id="weeklyBtn"
                        onclick="setTimePeriod('weekly')"
                        style="border-radius: 4.818px"
                      >
                        Weekly
                      </button>
                    </div>
                  </div>
                  <div class="card-body">
                    <div id="chart"></div>

                    <!-- <div id="chart-profile-visit"></div> -->
                  </div>
                </div>

                <!-- </section> -->
              </div>
            </div>

            <table id="dataTable1" style="display: none">
              <tr>
                <th>Location</th>
                <th>Machine Number</th>
                <th>Printed Certificates</th>
                <th>Verifications</th>
                <th>Total</th>
                <th>Transaction Date</th>
              </tr>
              <tr>
                <td>location1</td>
                <td>1</td>
                <td>50</td>
                <td>30</td>
                <td>80</td>
                <td>2024-01-15</td>
              </tr>
              <tr>
                <td>location1</td>
                <td>2</td>
                <td>20</td>
                <td>10</td>
                <td>30</td>
                <td>2024-02-20</td>
              </tr>
              <tr>
                <td>location2</td>
                <td>3</td>
                <td>70</td>
                <td>50</td>
                <td>120</td>
                <td>2024-03-10</td>
              </tr>
              <tr>
                <td>location2</td>
                <td>4</td>
                <td>10</td>
                <td>5</td>
                <td>15</td>
                <td>2024-04-05</td>
              </tr>
              <!-- Add more rows as needed -->
            </table>

            <div class="row">
              <div class="col-12 mt-5">
                <!-- <section class="section" style="align-self: center;"> -->
                <div class="card border">
                  <div
                    class="card-header d-flex justify-content-between"
                    style="align-items: center; justify-content: center"
                  >
                    <div><h3>Rata-rata Waktu Transaksi Terpadat</h3></div>
                    <div>
                      <label for="locationFilter1">Lokasi:</label>
                      <select id="locationFilter1" onchange="updateChart1()">
                        <option value="all">Semua Lokasi</option>
                        <option value="location1">Location 1</option>
                        <option value="location2">Location 2</option>
                        <!-- Add more locations as needed -->
                      </select>
                    </div>
                    <div class="toggle-container">
                      <button
                        id="monthlyBtn1"
                        class="active"
                        onclick="setTimePeriod1('monthly1')"
                        style="border-radius: 4.818px"
                      >
                        Monthly
                      </button>
                      <button
                        id="weeklyBtn1"
                        onclick="setTimePeriod1('weekly1')"
                        style="border-radius: 4.818px"
                      >
                        Weekly
                      </button>
                    </div>
                  </div>
                  <div class="card-body">
                    <div id="chart1"></div>
                    <!-- <div id="statistik-waktu-transaksi"></div> -->
                  </div>
                </div>

                <!-- </section> -->
              </div>
            </div>

            <table id="dataTable2" style="display: none">
              <tr>
                <th>Location</th>
                <th>Machine Number</th>
                <th>Transaction DateTime</th>
                <th>Printed Certificates</th>
                <th>Verifications</th>
                <th>Total</th>
              </tr>
              <tr>
                <td>location1</td>
                <td>1</td>
                <td>2024-01-15T10:30:00</td>
                <td>50</td>
                <td>30</td>
                <td>80</td>
              </tr>
              <tr>
                <td>location1</td>
                <td>2</td>
                <td>2024-02-20T14:45:00</td>
                <td>20</td>
                <td>10</td>
                <td>30</td>
              </tr>
              <tr>
                <td>location2</td>
                <td>3</td>
                <td>2024-03-10T09:15:00</td>
                <td>70</td>
                <td>50</td>
                <td>120</td>
              </tr>
              <tr>
                <td>location2</td>
                <td>4</td>
                <td>2024-04-05T16:00:00</td>
                <td>10</td>
                <td>5</td>
                <td>15</td>
              </tr>
              <!-- Add more rows as needed -->
            </table>
          </div>
        </div>
      </div>
    </div>

    <script src="/assets/static/js/pages/horizontal-layout.js"></script>

    <script src="/assets/static/js/components/dark.js"></script>
    <script src="/assets/extensions/perfect-scrollbar/perfect-scrollbar.min.js"></script>

    <script src="/assets/compiled/js/app.js"></script>

    <script src="/assets/extensions/apexcharts/apexcharts.min.js"></script>
    <script src="/assets/static/js/pages/dashboard.js"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>

    <script>
      // $(document).ready(function () {
      // Initialize Simple-DataTables for each table

      document.addEventListener("DOMContentLoaded", function () {
        const navbarItems = document.querySelectorAll(".navbar-item");
        const dropdownLink = document.getElementById("report-link");
        const dropdownMenu = dropdownLink.nextElementSibling;

        dropdownLink.addEventListener("click", function (event) {
          event.preventDefault();
          dropdownMenu.classList.toggle("show");
          dropdownLink.parentElement.classList.toggle("active");
        });

        navbarItems.forEach((item) => {
          item.addEventListener("click", function () {
            navbarItems.forEach((nav) => nav.classList.remove("active"));
            if (this.querySelector(".dropdown-menu")) {
              this.classList.add("active");
            } else {
              this.classList.add("active");
              dropdownMenu.classList.remove("show");
            }
          });
        });

        document.addEventListener("click", function (event) {
          if (!event.target.closest(".navbar-item")) {
            navbarItems.forEach((nav) => nav.classList.remove("active"));
            dropdownMenu.classList.remove("show");
          }
        });
      });

      $(document).ready(function () {
        $("#example1").DataTable();

        function updateTotalTransaksi() {
          const rows = document.querySelectorAll("#example1 tbody tr");

          let totalCetakSertipikat = 0;
          let totalVerifikasiSentuhTanahku = 0;

          rows.forEach((row) => {
            const cetakSertipikat = parseInt(row.children[2].innerText) || 0;
            const verifikasiSentuhTanahku =
              parseInt(row.children[3].innerText) || 0;
            const totalTransaksi = cetakSertipikat + verifikasiSentuhTanahku;

            row.children[5].innerText = totalTransaksi;

            const date = row.children[4].innerText;
            const today = new Date().toISOString().split("T")[0]; // Get today's date in YYYY-MM-DD format
            if (date === today) {
              totalCetakSertipikat += cetakSertipikat;
              totalVerifikasiSentuhTanahku += verifikasiSentuhTanahku;
            }
          });

          document.getElementById("totalCetakSertipikat").innerText =
            totalCetakSertipikat;
          document.getElementById("totalVerifikasiSentuhTanahku").innerText =
            totalVerifikasiSentuhTanahku;
          document.getElementById("combinedTotal").innerText =
            totalCetakSertipikat + totalVerifikasiSentuhTanahku;
        }

        // Call the function when the document is loaded
        updateTotalTransaksi();
      });

      var table1 = $("#example1").DataTable();

      var timePeriod = "monthly";

      // Initialize the chart
      var options = {
        chart: {
          type: "bar",
        },
        series: [
          {
            name: "Cetak Sertifikat",
            data: [],
            color: "#377DFF",
          },
          {
            name: "Verifikasi Sentuh Tanahku",
            data: [],
            color: "#BF37FF",
          },
        ],
        xaxis: {
          categories: [
            "Januari",
            "Februari",
            "Maret",
            "April",
            "Mei",
            "Juni",
            "Juli",
            "Agustus",
            "September",
            "Oktober",
            "November",
            "Desember",
          ],
        },
      };

      var chart = new ApexCharts(document.querySelector("#chart"), options);
      chart.render();

      // Function to set the time period and update the chart
      function setTimePeriod(period) {
        timePeriod = period;
        document.getElementById("monthlyBtn").classList.remove("active");
        document.getElementById("weeklyBtn").classList.remove("active");
        if (period === "monthly") {
          document.getElementById("monthlyBtn").classList.add("active");
        } else {
          document.getElementById("weeklyBtn").classList.add("active");
        }
        updateChart();
      }

      // Function to update the chart based on filters
      function updateChart() {
        var locationFilter = document.getElementById("locationFilter").value;

        var dataTable = document.getElementById("dataTable1");
        var printedCertificates = Array(12).fill(0);
        var verifications = Array(12).fill(0);

        var now = new Date();
        var currentYear = now.getFullYear();

        for (var i = 1; i < dataTable.rows.length; i++) {
          var row = dataTable.rows[i];
          var location = row.cells[0].innerText;
          var printed = parseInt(row.cells[2].innerText);
          var verified = parseInt(row.cells[3].innerText);
          var transactionDate = new Date(row.cells[5].innerText);

          // Apply filters
          if (locationFilter === "all" || location === locationFilter) {
            if (transactionDate.getFullYear() === currentYear) {
              var month = transactionDate.getMonth(); // 0 = January, 1 = February, etc.
              printedCertificates[month] += printed;
              verifications[month] += verified;
            }
          }
        }

        if (timePeriod === "weekly") {
          printedCertificates = Array(12).fill(0);
          verifications = Array(12).fill(0);
          var startOfWeek = new Date(
            now.setDate(now.getDate() - now.getDay() + 1)
          );
          var endOfWeek = new Date(
            now.setDate(now.getDate() - now.getDay() + 7)
          );

          for (var i = 1; i < dataTable.rows.length; i++) {
            var row = dataTable.rows[i];
            var location = row.cells[0].innerText;
            var printed = parseInt(row.cells[2].innerText);
            var verified = parseInt(row.cells[3].innerText);
            var transactionDate = new Date(row.cells[5].innerText);

            if (locationFilter === "all" || location === locationFilter) {
              if (
                transactionDate >= startOfWeek &&
                transactionDate <= endOfWeek
              ) {
                var month = transactionDate.getMonth();
                printedCertificates[month] += printed;
                verifications[month] += verified;
              }
            }
          }
        }

        chart.updateSeries([
          {
            name: "Cetak Sertifikat",
            data: printedCertificates,
          },
          {
            name: "Verifikasi Sentuh Tanahku",
            data: verifications,
          },
        ]);
      }

      // Initial chart update
      updateChart();

      //Statistik Waktu Transaksi

      var timePeriod1 = "monthly1";

      // Initialize the chart
      var options1 = {
        chart: {
          type: "bar",
        },
        series: [
          {
            name: "Accumulated Total",
            data: [],
          },
        ],
        xaxis: {
          categories: [
            "Januari",
            "Februari",
            "Maret",
            "April",
            "Mei",
            "Juni",
            "Juli",
            "Agustus",
            "September",
            "Oktober",
            "November",
            "Desember",
          ],
          // categories: []
        },
        tooltip: {
          custom: function ({ series, seriesIndex, dataPointIndex, w }) {
            var dataTable2 = document.getElementById("dataTable2");
            var row = dataTable2.rows[dataPointIndex + 1]; // Adding 1 because of table header row
            var transactionDateTime = new Date(row.cells[2].innerText);
            var hour = transactionDateTime.getHours();
            return (
              '<div class="arrow_box">' +
              "<span>Jumlah Transaksi: " +
              series[seriesIndex][dataPointIndex] +
              "</span><br>" +
              "<span>Rata-rata jam: " +
              hour +
              ":00</span>" +
              "</div>"
            );
          },
        },
      };

      var chart1 = new ApexCharts(document.querySelector("#chart1"), options1);
      chart1.render();

      // Function to set the time period and update the chart
      function setTimePeriod1(period) {
        timePeriod1 = period;
        document.getElementById("monthlyBtn1").classList.remove("active");
        document.getElementById("weeklyBtn1").classList.remove("active");
        if (period === "monthly1") {
          document.getElementById("monthlyBtn1").classList.add("active");
        } else {
          document.getElementById("weeklyBtn1").classList.add("active");
        }
        updateChart1();
      }

      // Function to update the chart based on filters
      function updateChart1() {
        var locationFilter1 = document.getElementById("locationFilter1").value;

        var dataTable2 = document.getElementById("dataTable2");
        var accumulatedTotal = Array(12).fill(0);
        var now = new Date();
        var currentYear = now.getFullYear();

        var weeklyData = {
          accumulatedTotal: Array(12).fill(0),
        };

        // Helper function to get the week of the year
        function getWeekOfYear(date) {
          var start = new Date(date.getFullYear(), 0, 1);
          var diff =
            (date -
              start +
              (start.getTimezoneOffset() - date.getTimezoneOffset()) * 60000) /
            86400000;
          return Math.ceil((diff + start.getDay() + 1) / 7);
        }

        for (var i = 1; i < dataTable2.rows.length; i++) {
          var row = dataTable2.rows[i];
          var location = row.cells[0].innerText;
          var printed = parseInt(row.cells[3].innerText);
          var verified = parseInt(row.cells[4].innerText);
          var total = printed + verified;
          var transactionDate = new Date(row.cells[2].innerText);

          // Apply filters
          if (locationFilter1 === "all" || location === locationFilter1) {
            var month = transactionDate.getMonth();
            if (transactionDate.getFullYear() === currentYear) {
              accumulatedTotal[month] += total;

              if (timePeriod1 === "weekly1") {
                var week = getWeekOfYear(transactionDate);
                if (week === getWeekOfYear(now)) {
                  weeklyData.accumulatedTotal[month] += total;
                }
              }
            }
          }
        }

        if (timePeriod1 === "weekly1") {
          accumulatedTotal = weeklyData.accumulatedTotal;
        }

        chart1.updateSeries([
          {
            name: "Accumulated Total",
            data: accumulatedTotal,
          },
        ]);
      }

      // Initial chart update
      updateChart1();
    </script>
  </body>
</html>
