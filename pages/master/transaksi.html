<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="shortcut icon" href="/assets/compiled/svg/favicon.svg" type="image/x-icon" />
  <link rel="shortcut icon"
    href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAiCAYAAADRcLDBAAAEs2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMzIgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMzQiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgdGlmZjpJbWFnZVdpZHRoPSIzMyIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMzQiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249Ijk2LjAiCiAgIHRpZmY6WVJlc29sdXRpb249Ijk2LjAiCiAgIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjItMDMtMzFUMTA6NTA6MjMrMDI6MDAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDMtMzFUMTA6NTA6MjMrMDI6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMS4xMC4xIgogICAgICBzdEV2dDp3aGVuPSIyMDIyLTAzLTMxVDEwOjUwOjIzKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz5V57uAAAABgmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kc8rRFEUxz9maORHo1hYKC9hISNGTWwsRn4VFmOUX5uZZ36oeTOv954kW2WrKLHxa8FfwFZZK0WkZClrYoOe87ypmWTO7dzzud97z+nec8ETzaiaWd4NWtYyIiNhZWZ2TvE946WZSjqoj6mmPjE1HKWkfdxR5sSbgFOr9Ll/rXoxYapQVik8oOqGJTwqPL5i6Q5vCzeo6dii8KlwpyEXFL519LjLLw6nXP5y2IhGBsFTJ6ykijhexGra0ITl5bRqmWU1fx/nJTWJ7PSUxBbxJkwijBBGYYwhBgnRQ7/MIQIE6ZIVJfK7f/MnyUmuKrPOKgZLpEhj0SnqslRPSEyKnpCRYdXp/9++msneoFu9JgwVT7b91ga+LfjetO3PQ9v+PgLvI1xkC/m5A+h7F32zoLXug38dzi4LWnwHzjeg8UGPGbFfySvuSSbh9QRqZ6H+Gqrm3Z7l9zm+h+iafNUV7O5Bu5z3L/wAdthn7QIme0YAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAJTSURBVFiF7Zi9axRBGIefEw2IdxFBRQsLWUTBaywSK4ubdSGVIY1Y6HZql8ZKCGIqwX/AYLmCgVQKfiDn7jZeEQMWfsSAHAiKqPiB5mIgELWYOW5vzc3O7niHhT/YZvY37/swM/vOzJbIqVq9uQ04CYwCI8AhYAlYAB4Dc7HnrOSJWcoJcBS4ARzQ2F4BZ2LPmTeNuykHwEWgkQGAet9QfiMZjUSt3hwD7psGTWgs9pwH1hC1enMYeA7sKwDxBqjGnvNdZzKZjqmCAKh+U1kmEwi3IEBbIsugnY5avTkEtIAtFhBrQCX2nLVehqyRqFoCAAwBh3WGLAhbgCRIYYinwLolwLqKUwwi9pxV4KUlxKKKUwxC6ZElRCPLYAJxGfhSEOCz6m8HEXvOB2CyIMSk6m8HoXQTmMkJcA2YNTHm3congOvATo3tE3A29pxbpnFzQSiQPcB55IFmFNgFfEQeahaAGZMpsIJIAZWAHcDX2HN+2cT6r39GxmvC9aPNwH5gO1BOPFuBVWAZue0vA9+A12EgjPadnhCuH1WAE8ivYAQ4ohKaagV4gvxi5oG7YSA2vApsCOH60WngKrA3R9IsvQUuhIGY00K4flQG7gHH/mLytB4C42EgfrQb0mV7us8AAMeBS8mGNMR4nwHamtBB7B4QRNdaS0M8GxDEog7iyoAguvJ0QYSBuAOcAt71Kfl7wA8DcTvZ2KtOlJEr+ByyQtqqhTyHTIeB+ONeqi3brh+VgIN0fohUgWGggizZFTplu12yW8iy/YLOGWMpDMTPXnl+Az9vj2HERYqPAAAAAElFTkSuQmCC"
    type="image/png" />

  <link rel="stylesheet" href="/assets/compiled/css/app.css" />
  <link rel="stylesheet" href="/assets/compiled/css/app-dark.css" />
  <link rel="stylesheet" href="/assets/compiled/css/iconly.css" />

  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css" />

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-image: url(/assets/compiled/svg/bgKiosks.svg);
      background-size: auto;
      background-repeat: no-repeat;
      background-color: #ffffff;
      color: #333333;
    }

    .card {
      box-shadow: 3px 3px 3px 3px #dde8f1;
    }

    @media (max-width: 768px) {
      .card-body {
        flex-direction: column;
        align-items: flex-start;
      }

      .card-footer {
        text-align: left;
      }
    }

    h1,
    h3,
    h6,
    p,
    label {
      color: #333333;
    }

    .navbar {
      position: fixed;
      width: 100%;
      background-color: #132144;
      z-index: 1000;
      padding: 10px 0;
    }

    .navbar-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: 0 20px;
      box-sizing: border-box;
    }

    .navbar-logo {
      height: 50px;
    }

    .navbar-list {
      list-style-type: none;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-grow: 1;
    }

    .navbar-item {
      position: relative;
    }

    .navbar-link {
      display: block;
      color: white;
      text-align: right;
      padding: 14px 20px;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .navbar-item.active .navbar-link {
      border-bottom: 2px solid #FBCB1F;
    }

    .navbar-link:hover {
      color: #FBCB1F;
    }

    .navbar-link::before {
      content: "";
      position: absolute;
      width: 0;
      height: 2px;
      bottom: 0;
      left: 0;
      background-color: #FBCB1F;
      visibility: hidden;
      transition: all 0.3s ease-in-out;
    }

    .navbar-link:hover::before {
      visibility: visible;
      width: 100%;
    }

    /* Dropdown menu styling */
    .dropdown-menu {
      display: none;
      position: absolute;
      background-color: #ffffff;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      top: 100%;
      left: 0;
      color: #333333;
    }

    .dropdown-item {
      width: 100%;
    }

    .dropdown-link:active {
      color: #dde8f1;
    }

    .dropdown-link {
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      text-align: left;
      transition: background-color 0.3s ease, color 0.3s ease;
      color: #333333;
    }

    .dropdown-link:hover {
      background-color: #dde8f1;
      border-radius: 8px;
    }

    .dropdown-item.active .dropdown-link {
      cursor: default;
      /* Prevents the pointer (hand) cursor */
      color: #377DFF;
    }

    .dropdown-item.active .dropdown-link:hover {
      background-color: transparent;
    }

    /* Show the dropdown menu on hover */
    .navbar-item.dropdown:hover .dropdown-menu {
      display: block;
    }

    /* New styles for responsive navbar */
    .hamburger {
      display: none;
      font-size: 24px;
      color: white;
      cursor: pointer;
    }

    @media (max-width: 576px) {
      .navbar-list {
        display: none;
        flex-direction: column;
        width: 100%;
        text-align: left;
        padding-left: 20px;
        /* Add padding to align to the left */
        align-items: flex-start;
        /* Align items to the left */
        position: absolute;
        top: 50px;
        left: 0;
        background-color: #132144;
        z-index: 999;
      }

      .navbar-list.active {
        display: flex;
        margin-top: 10px;
      }

      .navbar-item {
        width: 100%;
      }

      .hamburger {
        display: block;
        position: absolute;
        top: 10px;
        right: 20px;
        z-index: 1001;
        /* Ensure it's above other content */
      }

      .map-container {
        position: relative;
        z-index: 999;
      }

      .card {
        position: relative;
      }


      .has-sub .dropdown-menu {
        display: none;
        position: static;
        top: auto;
        left: auto;
        background-color: transparent;
        box-shadow: none;
        color: #ffe5e5;
      }

      .has-sub.active .dropdown-menu {
        display: block;
        margin-top: 0.5rem;
        /* Adjust spacing between items */
        color: white;
      }

      .dropdown-item {
        padding: 0.5rem 2rem;
        /* background-color: #333; */
        background-color: #132144;


        border-bottom: 1px solid #555;
      }

      .dropdown-item:last-child {
        border-bottom: none;
        /* Remove border on last item */
      }

      /* .dropdown-link:hover {
          padding: 12px 16px;
          text-decoration: none;
          display: block;
          text-align: left;
          transition: background-color 0.3s ease, color 0.3s ease;
          color: #333333;
        } */
    }

    .timeline {
      position: relative;
      margin: 0 auto;
      width: 100%;
      max-width: 900px;
    }

    .timeline::before {
      content: "";
      position: absolute;
      top: 0;
      transform: translateX(-50%);
      border-style: dotted;
      border-width: 3px;
      height: 100%;
      background: #ccc;
    }

    .timeline-red {
      position: relative;
      margin: 20px 0;
      clear: both;
    }

    .timeline-red::before {
      content: "";
      position: absolute;
      top: 0;
      transform: translateX(-50%);
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #007bff;
      border: 4px solid white;
      z-index: 1;
    }

    .timeline-grey {
      position: relative;
      margin: 20px 0;
      clear: both;
    }

    .timeline-grey::before {
      content: "";
      position: absolute;
      top: 0;
      transform: translateX(-50%);
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #c9d9e9;
      border: 4px solid white;
      z-index: 1;
    }

    .timeline-yellow {
      position: relative;
      margin: 20px 0;
      clear: both;
    }

    .timeline-yellow::before {
      content: "";
      position: absolute;
      top: 0;

      transform: translateX(-50%);
      width: 20px;
      height: 20px;

      background: #ff8533;
      border: 4px solid white;
      z-index: 1;
    }

    .timeline-green {
      position: relative;
      margin: 20px 0;

      clear: both;
    }

    .timeline-green::before {
      content: "";
      position: absolute;
      top: 0;

      transform: translateX(-50%);
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #00e525;
      border: 4px solid white;
      z-index: 1;
    }

    .timeline-content {
      padding: 20px;

      border-radius: 5px;
    }

    .toggle-container {
      border-radius: 4.818px;
      background-color: #edf2f8;
      display: flex;
      gap: 12px;
      font-size: 13px;
      white-space: nowrap;
      text-align: center;
      line-height: 114%;
      justify-content: space-between;
      padding: 6px;
    }

    .filter-buttons button {
      margin-right: 10px;
      padding: 10px;
    }

    .toggle-container button.aktifkan {
      background-color: #002845;
      color: white;
    }

    #example1 th:nth-child(5),
    #example1 td:nth-child(5) {
      display: none;
    }

    /* Custom dataTables */

    .dataTable-custom {
      width: 100%;
      border-collapse: collapse;
    }
      


    @media (max-width: 576px) {

      .dataTable-custom {
        font-size: 0.775rem;
        }
      #example1.dataTable-custom .dataTables_info {
        font-size: 8px;
        /* Font size for total entries and showing entries on small screens */
      }

      #example1.dataTable-custom .dataTables_paginate {
        font-size: 8px;
        /* Font size for pagination controls on small screens */
      }

      #example1.dataTable-custom .dataTables_length select {
        font-size: 8px;
        /* Font size for length menu on small screens */
      }

      #example1.dataTable-custom .dataTables_filter input {
        font-size: 8px;
        /* Font size for search filter input on small screens */
      }

    }

    .dataTable-custom th,
    .dataTable-custom td {
      padding: 8px;
      border: 1px solid #ddd;
      color: #333333;
    }

    .dataTable-custom th {
      background-color: #dde8f1;
    }

    .dataTable-custom thead {
      background-color: #dde8f1;
      border-radius: 10px;
    }

    .dataTables_wrapper .dataTables_filter input {
      color: #000000 !important;
      /* Text color for search box */
      background-color: #ffffff !important;
      /* Background color for search box */
      border: 1px solid #ccc !important;
      /* Add a border for better visibility */
      padding: 5px !important;
      /* Add padding for better appearance */
      border-radius: 3px !important;
      /* Add border-radius for rounded corners */
    }

    .dataTables_wrapper .dataTables_length select {
      color: #000000 !important;
      /* Text color for dropdown */
      background-color: #ffffff !important;
      /* Background color for dropdown */
      border: 1px solid #ccc !important;
      /* Add a border for better visibility */
      padding: 5px !important;
      /* Add padding for better appearance */
      border-radius: 3px !important;
      /* Add border-radius for rounded corners */
    }

    /* .table-responsive {
        overflow-x: auto;
      } */

    .filterActive {
      background-color: #132144;
      color: white;
    }

    #filters {
      border-radius: 4.818px;
      background-color: #edf2f8;
      gap: 12px;
      font-size: 13px;
      white-space: nowrap;
      line-height: 114%;
      padding: 6px;
    }
  </style>
</head>

<body>
  <div id="app">
    <div id="main" class="layout-horizontal">
      <!-- <div class="header-top"  style="background-color: #132144;"> -->

      <nav class="navbar">
        <div class="navbar-content">
          <a href="/index.html" class="menu-link">
            <img class="navbar-logo" src="/assets/compiled/svg/logoATR.svg" alt="Logo" height="46" width="135" />
          </a>
          <div class="hamburger" onclick="toggleMenu()">â˜°</div>

          <ul class="navbar-list gap-4">
            <li class="navbar-item">
              <a href="/index.html" class="navbar-link"><i class="me-2"><img
                    src="/assets/compiled/svg/iconDashboard.svg" alt="" height="20" width="20" /></i>Dashboard</a>
            </li>
            <li class="navbar-item">
              <a href="/pages/master/kiosk.html" class="navbar-link"><i class="me-2"><img
                    src="/assets/compiled/svg/iconMaster.svg" alt="" height="20" width="20" /></i>Master</a>
            </li>
            <li class="navbar-item dropdown active">
              <a href="#" class="navbar-link" id="report-link"><i class="me-2"><img
                    src="/assets/compiled/svg/iconReport.svg" alt="" height="20" width="20" /></i>Report</a>
              <ul class="dropdown-menu">
                <li class="dropdown-item">
                  <a href="/pages/master/errorLog.html" class="dropdown-link">Error Log</a>
                </li>
                <li class="dropdown-item active" style="background-color: transparent;">
                  <a href="/pages/master/transaksi.html" class="dropdown-link">
                    Transaksi</a>
                </li>
                <li class="dropdown-item">
                  <a href="/pages/master/kertasToner.html" class="dropdown-link">
                    Kertas & Toner</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>

      <div class="content-wrapper container" style="margin-top: 100px">
        <div class="page-heading">
          <h3 class="text-white">Transaksi</h3>
        </div>
        <div class="page-content">
          <div class="col-12">
            <div class="row">
              <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                <div class="card">
                  <div class="card-body px-4 py-4-5">
                    <div class="row">
                      <div class="col-9">
                        <h6>Total Transaksi</h6>
                        <h1 id="combinedTotal"></h1>
                      </div>

                      <div class="col-3 d-flex justify-content-center">
                        <img src="/assets/compiled/svg/totalTransaksi.svg" alt="" height="50" width="50"
                          alt="Centered Image" class="img-fluid" />
                      </div>
                    </div>
                  </div>

                  <div class="card-footer">
                    <div class="d-flex flex-row-reverse">
                      <p>Hari ini</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                <div class="card">
                  <div class="card-body px-4 py-4-5">
                    <div class="row">
                      <div class="col-9">
                        <h6>Total Cetak Sertipikat</h6>
                        <h1 id="totalCetakSertipikat"></h1>
                      </div>

                      <div class="col-3 d-flex justify-content-center">
                        <img src="/assets/compiled/svg/totalSerifikat.svg" alt="" height="50" width="50"
                          alt="Centered Image" class="img-fluid" />
                      </div>
                    </div>
                  </div>

                  <div class="card-footer">
                    <div class="d-flex flex-row-reverse">
                      <p>Hari ini</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                <div class="card">
                  <div class="card-body px-4 py-4-5">
                    <div class="row">
                      <div class="col-9">
                        <h6>Total Verifikasi Sentuh Tanahku</h6>
                        <h1 id="totalVerifikasiSentuhTanahku"></h1>
                      </div>

                      <div class="col-3 d-flex justify-content-center">
                        <img src="/assets/compiled/svg/totalVerfikasi.svg" alt="" height="50" width="50"
                          alt="Centered Image" class="img-fluid" />
                      </div>
                    </div>
                  </div>

                  <div class="card-footer">
                    <div class="d-flex flex-row-reverse">
                      <p>Hari ini</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-12 mt-5">
              <!-- <section class="section" style="align-self: center;"> -->
              <div class="card border">
                <div class="card-header d-flex justify-content-between">
                  <h3>List Transaksi Kiosk</h3>
                  <div>
                    <input type="date" id="filter-date1" placeholder="Enter date" class="form-control" />
                  </div>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table id="example1" class="dislay dataTable-custom">
                      <thead>
                        <tr>
                          <th>Nomor Mesin</th>
                          <th>Lokasi</th>
                          <th>Cetak Sertipikat</th>
                          <th>Verifikasi Sentuh Tanahku</th>
                          <th>Tanggal Transaksi</th>
                          <th>Total Transaksi</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>K2300012</td>
                          <td>
                            Kantor Pertanahan Kota Administratif Jakarta Pusat
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300013</td>
                          <td>Kantor Pertanahan Kota Surabaya I</td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300014</td>
                          <td>Kantor Pertanahan Kota Surabaya II</td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300015</td>
                          <td>
                            Kantor Wilayah Badan Pertanahan Nasional Provinsi
                            Kalimantan Timur
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>K2300016</td>
                          <td>
                            Kantor Wilayah Badan Pertanahan Nasional Provinsi
                            Kalimantan Timur
                          </td>
                          <td>20</td>
                          <td>10</td>
                          <td>2024-06-14</td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <!-- </section> -->
            </div>
          </div>

          <div class="row">
            <div class="col-12 mt-5">
              <!-- <section class="section" style="align-self: center;"> -->
              <div class="card border">
                <div
                  class="card-header d-flex flex-column flex-md-row align-items-center justify-content-between text-center text-md-left">
                  <h3 class="mb-3 mb-md-0">Total Keseluruhan Transaksi</h3>
                  <div class="mb-3 mb-md-0">
                    <select id="locationFilter" class="form-control">
                      <option value="all">Semua Lokasi</option>
                    </select>
                  </div>
                  <div id="filters" class="d-flex">
                    <button id="weeklyBtn" style="border-radius: 4.818px">
                      Mingguan
                    </button>
                    <button id="monthlyBtn" style="border-radius: 4.818px">
                      Bulanan
                    </button>
                  </div>
                </div>
                <div class="card-body">
                  <div id="chart"></div>
                </div>
              </div>
            </div>
          </div>

          <table id="dataTable1" style="display: none">
            <tr>
              <td>Kantor Pertanahan Kota Administratif Jakarta Pusat</td>
              <th>Machine Number</th>
              <th>Printed Certificates</th>
              <th>Verifications</th>
              <th>Total</th>
              <th>Transaction Date</th>
            </tr>
            <tr>
              <td>Kantor Pertanahan Kota Surabaya I</td>
              <td>1</td>
              <td>50</td>
              <td>30</td>
              <td>80</td>
              <td>2024-01-15</td>
            </tr>
            <tr>
              <td>Kantor Pertanahan Kota Administratif Jakarta Pusat</td>
              <td>2</td>
              <td>20</td>
              <td>10</td>
              <td>30</td>
              <td>2024-02-20</td>
            </tr>
            <tr>
              <td>Kantor Pertanahan Kota Surabaya I</td>
              <td>3</td>
              <td>70</td>
              <td>50</td>
              <td>120</td>
              <td>2024-03-10</td>
            </tr>
            <tr>
              <td>
                Kantor Wilayah Badan Pertanahan Nasional Provinsi Kalimantan
                Timur
              </td>
              <td>4</td>
              <td>10</td>
              <td>5</td>
              <td>15</td>
              <td>2024-04-05</td>
            </tr>
            <!-- Add more rows as needed -->
          </table>

          <div class="row">
            <div class="col-12 mt-5">
              <!-- <section class="section" style="align-self: center;"> -->
              <div class="card border">
                <div
                  class="card-header d-flex flex-column flex-md-row align-items-center justify-content-between text-center text-md-left">
                  <h3 class="mb-3 mb-md-0">Rata-rata Waktu Transaksi Terpadat</h3>
                  <div>
                    <select id="locationFilter1" class="form-control">
                      <option value="all">Semua Lokasi</option>
                    </select>
                  </div>
                  <div id="filters" class="d-flex">
                    <button id="weeklyBtn1" style="border-radius: 4.818px">
                      Mingguan
                    </button>
                    <button id="monthlyBtn1" style="border-radius: 4.818px">
                      Bulanan
                    </button>
                  </div>
                </div>
                <div class="card-body">
                  <div id="chart1"></div>
                </div>
              </div>
            </div>
          </div>

          <table id="dataTable2" style="display: none">
            <tr>
              <th>Location</th>
              <th>Machine Number</th>
              <th>Transaction DateTime</th>
              <th>Printed Certificates</th>
              <th>Verifications</th>
              <th>Total</th>
            </tr>
            <tr>
              <td>Kantor Pertanahan Kota Administratif Jakarta Pusat</td>
              <td>1</td>
              <td>2024-01-15T10:30:00</td>
              <td>50</td>
              <td>30</td>
              <td>80</td>
            </tr>
            <tr>
              <td>Kantor Pertanahan Kota Surabaya I</td>
              <td>2</td>
              <td>2024-02-20T14:45:00</td>
              <td>20</td>
              <td>10</td>
              <td>30</td>
            </tr>
            <tr>
              <td>Kantor Pertanahan Kota Surabaya II</td>
              <td>3</td>
              <td>2024-03-10T09:15:00</td>
              <td>70</td>
              <td>50</td>
              <td>120</td>
            </tr>
            <tr>
              <td>
                Kantor Wilayah Badan Pertanahan Nasional Provinsi Kalimantan
                Timur
              </td>
              <td>4</td>
              <td>2024-04-05T16:00:00</td>
              <td>10</td>
              <td>5</td>
              <td>15</td>
            </tr>
            <!-- Add more rows as needed -->
          </table>
        </div>
      </div>
    </div>
  </div>

  <script src="/assets/static/js/pages/horizontal-layout.js"></script>

  <script src="/assets/static/js/components/dark.js"></script>
  <script src="/assets/extensions/perfect-scrollbar/perfect-scrollbar.min.js"></script>

  <script src="/assets/compiled/js/app.js"></script>

  <script src="/assets/extensions/apexcharts/apexcharts.min.js"></script>
  <!-- <script src="/assets/static/js/pages/dashboard.js"></script> -->

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", initDropdowns);
      window.addEventListener("resize", initDropdowns);

      function initDropdowns() {
        const dropdowns = document.querySelectorAll(".navbar-item.dropdown");

        dropdowns.forEach((dropdown) => {
          // Clear previous event listeners
          dropdown.replaceWith(dropdown.cloneNode(true));
        });

        const newDropdowns = document.querySelectorAll(".navbar-item.dropdown");

        if (window.innerWidth > 576) {
          newDropdowns.forEach((dropdown) => {
            dropdown.addEventListener("mouseenter", function () {
              this.classList.add("active");
            });
            dropdown.addEventListener("mouseleave", function () {
              this.classList.remove("active");
            });
          });
        } else {
          newDropdowns.forEach((dropdown) => {
            dropdown.classList.add("has-sub");
            const link = dropdown.querySelector(".navbar-link");
            link.addEventListener("click", function (e) {
              e.preventDefault();
              dropdown.classList.toggle("active");
            });
          });
        }
      }

      function toggleMenu() {
        var navbarList = document.querySelector(".navbar-list");
        var mapContainer = document.querySelector(".map-container");
        var card = document.querySelector(".card");

        navbarList.classList.toggle("active");

        if (navbarList.classList.contains("active")) {
          mapContainer.style.top = `${navbarList.clientHeight}px`;
          card.style.top = `${navbarList.clientHeight}px`;
        } else {
          mapContainer.style.top = "0";
          card.style.top = "0";
        }
      }

    $(document).ready(function () {
      var table = $("#example1").DataTable();

      // $("#example1").DataTable();

      function updateTotalTransaksi() {
        const rows = document.querySelectorAll("#example1 tbody tr");

        let totalCetakSertipikat = 0;
        let totalVerifikasiSentuhTanahku = 0;

        rows.forEach((row) => {
          const cetakSertipikat = parseInt(row.children[2].innerText) || 0;
          const verifikasiSentuhTanahku =
            parseInt(row.children[3].innerText) || 0;
          const totalTransaksi = cetakSertipikat + verifikasiSentuhTanahku;

          row.children[5].innerText = totalTransaksi;

          const date = row.children[4].innerText;
          const today = new Date().toISOString().split("T")[0]; // Get today's date in YYYY-MM-DD format
          if (date === today) {
            totalCetakSertipikat += cetakSertipikat;
            totalVerifikasiSentuhTanahku += verifikasiSentuhTanahku;
          }
        });

        document.getElementById("totalCetakSertipikat").innerText =
          totalCetakSertipikat;
        document.getElementById("totalVerifikasiSentuhTanahku").innerText =
          totalVerifikasiSentuhTanahku;
        document.getElementById("combinedTotal").innerText =
          totalCetakSertipikat + totalVerifikasiSentuhTanahku;
      }

      // Call the function when the document is loaded
      updateTotalTransaksi();
    });

    var table1 = $("#example1").DataTable();

    // var timePeriod = "monthly";

    var options = {
      chart: {
        type: "bar",
      },
      series: [
        {
          name: "Cetak Sertifikat",
          data: [],
          color: "#377DFF",
        },
        {
          name: "Verifikasi Sentuh Tanahku",
          data: [],
          color: "#BF37FF",
        },
      ],
      xaxis: {
        categories: [
          "Januari",
          "Februari",
          "Maret",
          "April",
          "Mei",
          "Juni",
          "Juli",
          "Agustus",
          "September",
          "Oktober",
          "November",
          "Desember",
        ],
      },
    };

    var chart = new ApexCharts(document.querySelector("#chart"), options);
    chart.render();

    const locationFilter = document.getElementById("locationFilter");
    const weeklyFilterButton = document.getElementById("weeklyBtn");
    const monthlyFilterButton = document.getElementById("monthlyBtn");
    const dataTable = document.getElementById("dataTable1");

    const initializeLocationFilter = () => {
      const locations = new Set();
      for (let i = 1; i < dataTable.rows.length; i++) {
        const location = dataTable.rows[i].cells[0].innerText;
        locations.add(location);
      }
      locations.forEach((location) => {
        const option = document.createElement("option");
        option.value = location;
        option.textContent = location;
        locationFilter.appendChild(option);
      });
    };

    const filterData = () => {
      const selectedLocation = locationFilter.value;
      const now = new Date();
      const oneWeekAgo = new Date(now);
      oneWeekAgo.setDate(now.getDate() - 7);

      let filteredData = [];
      for (let i = 1; i < dataTable.rows.length; i++) {
        const row = dataTable.rows[i];
        const location = row.cells[0].innerText;
        const printed = parseInt(row.cells[2].innerText);
        const verified = parseInt(row.cells[3].innerText);
        const transactionDate = new Date(row.cells[5].innerText);

        if (selectedLocation !== "all" && location !== selectedLocation)
          continue;
        if (
          weeklyFilterButton.classList.contains("filterActive") &&
          transactionDate < oneWeekAgo
        )
          continue;
        if (
          monthlyFilterButton.classList.contains("filterActive") &&
          transactionDate.getFullYear() !== now.getFullYear()
        )
          continue;

        filteredData.push({ location, printed, verified, transactionDate });
      }

      updateChart(filteredData);
    };

    const updateChart = (filteredData) => {
      let printedCertificates = Array(12).fill(0);
      let verifications = Array(12).fill(0);
      const now = new Date();
      const currentYear = now.getFullYear();

      filteredData.forEach((item) => {
        const transactionDate = new Date(item.transactionDate);
        if (transactionDate.getFullYear() === currentYear) {
          const month = transactionDate.getMonth();
          printedCertificates[month] += item.printed;
          verifications[month] += item.verified;
        }
      });

      chart.updateSeries([
        {
          name: "Cetak Sertifikat",
          data: printedCertificates,
        },
        {
          name: "Verifikasi Sentuh Tanahku",
          data: verifications,
        },
      ]);
    };

    const setTimePeriod = (period) => {
      if (period === "monthly") {
        monthlyFilterButton.classList.add("filterActive");
        weeklyFilterButton.classList.remove("filterActive");
      } else {
        weeklyFilterButton.classList.add("filterActive");
        monthlyFilterButton.classList.remove("filterActive");
      }
      filterData();
    };

    // Initialize filters
    initializeLocationFilter();

    // Add event listeners
    locationFilter.addEventListener("change", filterData);
    weeklyFilterButton.addEventListener("click", () => {
      setTimePeriod("weekly");
    });
    monthlyFilterButton.addEventListener("click", () => {
      setTimePeriod("monthly");
    });

    // Initial chart update
    filterData();

    //Statistik Waktu Transaksi

    var timePeriod1 = "monthly1";

    // Initialize the chart
    var options1 = {
      chart: {
        type: "bar",
      },
      series: [
        {
          name: "Accumulated Total",
          data: [],
        },
      ],
      xaxis: {
        categories: [
          "Januari",
          "Februari",
          "Maret",
          "April",
          "Mei",
          "Juni",
          "Juli",
          "Agustus",
          "September",
          "Oktober",
          "November",
          "Desember",
        ],
      },
      tooltip: {
        custom: function ({ series, seriesIndex, dataPointIndex, w }) {
          var dataTable2 = document.getElementById("dataTable2");
          var row = dataTable2.rows[dataPointIndex + 1]; // Adding 1 because of table header row
          var transactionDateTime = new Date(row.cells[2].innerText);
          var hour = transactionDateTime.getHours();
          return (
            '<div class="arrow_box">' +
            "<span>Total Transactions: " +
            series[seriesIndex][dataPointIndex] +
            "</span><br>" +
            "<span>Average Hour: " +
            hour +
            ":00</span>" +
            "</div>"
          );
        },
      },
    };

    var chart1 = new ApexCharts(document.querySelector("#chart1"), options1);
    chart1.render();

    const locationFilter1 = document.getElementById("locationFilter1");
    const weeklyFilterButton1 = document.getElementById("weeklyBtn1");
    const monthlyFilterButton1 = document.getElementById("monthlyBtn1");
    const dataTable2 = document.getElementById("dataTable2");

    const initializeLocationFilter1 = () => {
      const locations = new Set();
      for (let i = 1; i < dataTable2.rows.length; i++) {
        const location = dataTable2.rows[i].cells[0].innerText;
        locations.add(location);
      }
      locations.forEach((location) => {
        const option = document.createElement("option");
        option.value = location;
        option.textContent = location;
        locationFilter1.appendChild(option);
      });
    };

    const filterData1 = () => {
      const selectedLocation = locationFilter1.value;
      const now = new Date();
      const oneWeekAgo = new Date(now);
      oneWeekAgo.setDate(now.getDate() - 7);

      let filteredData = [];
      for (let i = 1; i < dataTable2.rows.length; i++) {
        const row = dataTable2.rows[i];
        const location = row.cells[0].innerText;
        const printed = parseInt(row.cells[3].innerText);
        const verified = parseInt(row.cells[4].innerText);
        const transactionDate = new Date(row.cells[2].innerText);

        if (selectedLocation !== "all" && location !== selectedLocation)
          continue;
        if (
          weeklyFilterButton1.classList.contains("filterActive") &&
          transactionDate < oneWeekAgo
        )
          continue;
        if (
          monthlyFilterButton1.classList.contains("filterActive") &&
          transactionDate.getFullYear() !== now.getFullYear()
        )
          continue;

        filteredData.push({ location, printed, verified, transactionDate });
      }

      updateChart1(filteredData);
    };

    const updateChart1 = (filteredData) => {
      let accumulatedTotal = Array(12).fill(0);
      const now = new Date();
      const currentYear = now.getFullYear();

      filteredData.forEach((item) => {
        const transactionDate = new Date(item.transactionDate);
        if (transactionDate.getFullYear() === currentYear) {
          const month = transactionDate.getMonth();
          accumulatedTotal[month] += item.printed + item.verified;
        }
      });

      if (weeklyFilterButton1.classList.contains("filterActive")) {
        accumulatedTotal.fill(0);
        const oneWeekAgo = new Date(now);
        oneWeekAgo.setDate(now.getDate() - 7);

        filteredData.forEach((item) => {
          const transactionDate = new Date(item.transactionDate);
          if (transactionDate >= oneWeekAgo && transactionDate <= now) {
            const month = transactionDate.getMonth();
            accumulatedTotal[month] += item.printed + item.verified;
          }
        });
      }

      chart1.updateSeries([
        {
          name: "Accumulated Total",
          data: accumulatedTotal,
        },
      ]);
    };

    const setTimePeriod1 = (period) => {
      if (period === "monthly1") {
        monthlyFilterButton1.classList.add("filterActive");
        weeklyFilterButton1.classList.remove("filterActive");
      } else {
        weeklyFilterButton1.classList.add("filterActive");
        monthlyFilterButton1.classList.remove("filterActive");
      }
      filterData1();
    };

    // Initialize filters
    initializeLocationFilter1();

    // Add event listeners
    locationFilter1.addEventListener("change", filterData1);
    weeklyFilterButton1.addEventListener("click", () => {
      setTimePeriod1("weekly1");
    });
    monthlyFilterButton1.addEventListener("click", () => {
      setTimePeriod1("monthly1");
    });

    // Initial chart update
    filterData1();
  </script>
</body>

</html>